<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HJBBLT3CT5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-HJBBLT3CT5');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="SIGNAL RADIO: Una se帽al abierta para la convivencia e inclusi贸n laboral del talento aut茅nticamente capaz.">
    <title>SIGNAL RADIO | Se帽al Abierta</title>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://signal.aspergerparaasperger.org/">
    <meta property="og:title" content="SIGNAL RADIO | Se帽al Abierta">
    <meta property="og:description"
        content="SIGNAL RADIO: Una se帽al abierta para la convivencia e inclusi贸n laboral del talento aut茅nticamente capaz.">
    <meta property="og:image"
        content="https://signal.aspergerparaasperger.org/portada-signal-radio-asperger-para-asperger.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://signal.aspergerparaasperger.org/">
    <meta property="twitter:title" content="SIGNAL RADIO | Se帽al Abierta">
    <meta property="twitter:description"
        content="SIGNAL RADIO: Una se帽al abierta para la convivencia e inclusi贸n laboral del talento aut茅nticamente capaz.">
    <meta property="twitter:image"
        content="https://signal.aspergerparaasperger.org/portada-signal-radio-asperger-para-asperger.jpg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=3">
    <link rel="icon" type="image/png" href="icono-signal.png">

    <!-- Boxicons for icons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <style>
        .player-container {
            margin: 30px auto;
            max-width: 600px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: fadeIn 1s ease-out;
        }

        .player-label {
            color: var(--accent-primary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        audio {
            width: 100%;
            height: 40px;
            outline: none;
            filter: invert(0.9) hue-rotate(180deg);
            /* Simple dark mode tweak for standard audio player */
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="cursor-glow"></div>

    <header id="main-header">
        <div class="notification-banner">
            <div class="banner-content">
                <span class="banner-tag" style="background: var(--accent-secondary); color: white;"> MODO
                    PRUEBA</span>
                <span>
                    Estamos en modo de prueba. Si tiene alguna sugerencia puede enviar un correo a
                    <strong>info@aspergerparaasperger.org</strong>
                </span>
            </div>
        </div>
        <div class="container header-container">
            <div class="logo">
                <img src="logo2.jpg" alt="Signal Radio Logo" class="logo-img">
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#about">Qui茅nes somos</a></li>
                    <li><a href="#services">Qu茅 hacemos</a></li>
                    <li><a href="#values">Impacto</a></li>
                </ul>
            </nav>
            <div class="header-cta">
                <a href="#listen" class="btn btn-primary btn-sm">Escuchar ahora</a>
            </div>
            <button class="mobile-menu-btn" aria-label="Abrir men煤">
                <i class='bx bx-menu'></i>
            </button>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="hero" class="hero-section">
            <div class="hero-bg">
                <img src="hero-bg.png" alt="Ondas digitales fondo">
                <div class="overlay"></div>
            </div>
            <div class="container hero-content">
                <div class="signal-indicator">
                    <span class="dot"></span> EN VIVO
                </div>
                <h2 class="main-title">Signal <span class="text-gradient">Radio</span></h2>
                <p class="subtitle">Una se帽al pionera y abierta para la convivencia e inclusi贸n laboral del talento
                    aut茅nticamente capaz.</p>

                <!-- Opcion 1: Audio Tag -->
                <div class="player-container">
                    <div class="player-label"><i class='bx bx-broadcast'></i> Se帽al en Vivo</div>
                    <audio controls autoplay>
                        <source src="https://signalradio.aspergerparaasperger.org/listen/signal_radio/radio.mp3"
                            type="audio/mpeg">
                        Tu navegador no soporta el elemento de audio.
                    </audio>
                </div>

                <div class="hero-actions">
                    <!-- Removed Play Button since player is active -->
                    <a href="#community" class="btn btn-outline btn-lg">Sumarse a la comunidad</a>
                </div>
            </div>
            <div class="scroll-down">
                <i class='bx bx-chevron-down'></i>
            </div>
        </section>

        <!-- Weekly Schedule -->
        <section id="schedule" class="section" style="padding-bottom: 50px;">
            <div class="container text-center">
                <h2 class="section-title" style="margin-bottom: 50px;">Programaci贸n <span
                        class="text-highlight">Semanal</span></h2>
                <div class="schedule-card">
                    <div class="schedule-badge">EN VIVO</div>
                    <h3 class="schedule-title">Sintonizando con el Autismo - Episodio 166</h3>
                    <p class="schedule-topic"><strong>Tema:</strong> Migraci贸n y Cambio en poblaci贸n Asperger</p>
                    <p class="schedule-guest"><strong>Invitado:</strong> Andr茅s Galli (desde Valencia, Espa帽a)</p>
                    <div class="schedule-details">
                        <div class="schedule-time">
                            <i class='bx bx-time'></i> 7:00 AM & 7:00 PM
                        </div>
                        <div class="schedule-date">
                            <i class='bx bx-calendar'></i> 26 Ene - 31 Ene 2026
                        </div>
                    </div>
                    <div style="margin-top: 30px;">
                        <p style="color: var(--text-muted); margin-bottom: 10px; font-size: 0.9rem;">Lunes a Domingo</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Qui茅nes somos -->
        <section id="about" class="section">
            <div class="container about-container">
                <div class="about-text">
                    <h2 class="section-title">Qui茅nes <span class="text-highlight">Somos</span></h2>
                    <p class="lead-text">
                        Iniciativa de inclusi贸n laboral <strong class="text-cyan">Asperger para Asperger庐</strong>.
                    </p>
                    <p>
                        Promovemos y visibilizamos talento neurodivergente aut茅nticamente capaz en toda la diversidad
                        cognitiva y el espectro autista. Educamos a la sociedad y actuamos como un medio de m煤ltiples
                        prop贸sitos para estas minor铆as, visibilizando, sensibilizando, promoviendo la comprensi贸n real
                        de la
                        neurodiversidad y la creaci贸n de oportunidades que transforman realidades.
                    </p>
                </div>
                <div class="about-visual">
                    <div class="pulse-circle">
                        <img src="logo-signal-v2.png" alt="Signal" class="floating-icon">
                    </div>
                </div>
            </div>
        </section>

        <!-- Qu茅 hacemos -->
        <section id="services" class="section bg-darker">
            <div class="container">
                <h2 class="section-title text-center">Nuestra <span class="text-highlight">Se帽al</span></h2>
                <div class="grid-cards">
                    <div class="card">
                        <div class="card-icon"><i class='bx bx-broadcast'></i></div>
                        <h3>Radio Online</h3>
                        <p>Contenidos diversos, m煤sica y entrevistas producidas y locutadas por talento neurodivergente.
                        </p>
                    </div>
                    <div class="card">
                        <div class="card-icon"><i class='bx bx-message-rounded-dots'></i></div>
                        <h3>Comunicaci贸n Social</h3>
                        <p>Plataformas de expresi贸n que conectan historias reales con una audiencia global.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon"><i class='bx bx-chip'></i></div>
                        <h3>Tecnolog铆a</h3>
                        <p>Innovaci贸n en formatos digitales y herramientas accesibles para la creaci贸n de contenidos.
                        </p>
                    </div>
                    <div class="card highlight-card">
                        <div class="card-icon"><i class='bx bx-briefcase-alt'></i></div>
                        <h3>Oportunidades</h3>
                        <p>Desarrollo profesional real y participaci贸n activa en proyectos creativos.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Impacto / Valores -->
        <section id="values" class="section">
            <div class="container">
                <h2 class="section-title text-center">Impacto y <span class="text-highlight">Valores</span></h2>
                <div class="values-grid">
                    <div class="value-item">
                        <span class="value-number">01</span>
                        <h3>Inclusi贸n</h3>
                        <p>Sin barreras.</p>
                    </div>
                    <div class="value-item">
                        <span class="value-number">02</span>
                        <h3>Autenticidad</h3>
                        <p>Voces reales y aut茅nticas.</p>
                    </div>
                    <div class="value-item">
                        <span class="value-number">03</span>
                        <h3>Comunidad</h3>
                        <p>Red de apoyo y crecimiento mutuo.</p>
                    </div>
                    <div class="value-item">
                        <span class="value-number">04</span>
                        <h3>Innovaci贸n</h3>
                        <p>Mirando siempre hacia el futuro.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section id="community" class="section cta-section">
            <div class="background-waves"></div>
            <div class="container text-center">
                <h2>Sintoniza el <span class="text-gradient">Futuro</span></h2>
                <p>Forma parte de una comunidad que valora el talento por lo que es.</p>
                <div class="cta-buttons">
                    <a href="https://comunidad.aspergerparaasperger.org/invitation?code=9J8594" target="_blank"
                        class="btn btn-primary btn-lg">Unirse a la Comunidad</a>
                    <a href="https://www.aspergerparaasperger.org/" target="_blank" class="btn btn-outline btn-lg">M谩s
                        Soluciones</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container footer-content">
            <div class="footer-brand">
                <h3>SIGNAL RADIO</h3>
                <p>Conectando mundos.</p>
                <div class="initiative-ref">
                    <span class="initiative-text">Una iniciativa de:</span>
                    <img src="logo.png" alt="Asperger para Asperger" class="initiative-logo">
                </div>
            </div>
            <div class="footer-links">
                <a href="#">Privacidad</a>
                <a href="#">T茅rminos</a>
                <a href="#">Contacto</a>
            </div>
            <div class="footer-social">
                <a href="https://instagram.com/aspergerparaasperger" target="_blank" aria-label="Instagram"><i
                        class='bx bxl-instagram'></i></a>
                <a href="https://x.com/paraasperger" target="_blank" aria-label="X (Twitter)"><i
                        class='bx bxl-twitter'></i></a>
                <a href="https://www.linkedin.com/company/asperger-para-asperger" target="_blank"
                    aria-label="LinkedIn"><i class='bx bxl-linkedin'></i></a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 Signal Radio. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // Simple Interaction Script
        document.addEventListener('DOMContentLoaded', () => {
            // Mobile Menu Toggle
            const menuBtn = document.querySelector('.mobile-menu-btn');
            const nav = document.querySelector('.main-nav');

            menuBtn.addEventListener('click', () => {
                nav.classList.toggle('active');
            });

            // Smooth Scroll for Anchors
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                    // Close mobile menu if open
                    if (nav.classList.contains('active')) {
                        nav.classList.remove('active');
                    }
                });
            });

            // Cursor glow effect follow
            const glow = document.querySelector('.cursor-glow');
            document.addEventListener('mousemove', (e) => {
                glow.style.left = e.clientX + 'px';
                glow.style.top = e.clientY + 'px';
            });
        });
    </script>
    <!-- Chat Widget -->
    <div class="chat-widget" id="chatWidget">
        <div class="chat-content">
            <div class="chat-header">
                <div class="chat-title">
                    <span class="chat-status-dot"></span> Chat en Vivo
                </div>
                <button class="chat-close-btn" id="chatCloseBtn"><i class='bx bx-x'></i></button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <!-- Messages will appear here -->
                <div class="message">
                    <div class="msg-header">
                        <span class="msg-author">SignalBot</span>
                    </div>
                    <div class="msg-text">隆Bienvenido al chat de Signal Radio! </div>
                </div>
            </div>

            <div class="chat-input-area">
                <input type="text" id="chatUser" class="username-input" placeholder="Tu Apodo..." maxlength="20">
                <div class="input-wrapper">
                    <input type="text" id="chatInput" class="chat-input" placeholder="Escribe un mensaje..."
                        autocomplete="off">
                    <button id="chatSendBtn" class="chat-send-btn"><i class='bx bx-send'></i></button>
                </div>
            </div>
        </div>

        <button class="chat-toggle-btn" id="chatToggle" aria-label="Abrir Chat">
            <i class='bx bx-message-rounded-dots'></i>
        </button>
    </div>

    <!-- Floating Radio Widget -->
    <div class="floating-widget" id="floatingWidget">
        <div class="widget-content">
            <div class="w-header">
                <div class="w-logo">
                    <img src="logo2.jpg" alt="Logo">
                    <div style="line-height: 1.2;">
                        <span style="font-weight: 700; font-size: 1rem; color: #fff; display: block;">SIGNAL
                            RADIO</span>
                        <span style="font-size: 0.8rem; color: #a0a0b0;">Se帽al Abierta</span>
                    </div>
                </div>
                <div class="w-live-badge">
                    <div
                        style="width: 6px; height: 6px; background: #ff4d4d; border-radius: 50%; animation: blinkWidget 1.5s infinite;">
                    </div>
                    LIVE
                </div>
            </div>

            <div class="w-controls">
                <div class="w-info">
                    <p class="label">Escuchando ahora</p>
                    <p class="status">Transmisi贸n Online</p>
                </div>
                <button class="w-play-btn" id="widgetPlayBtn">
                    <i class='bx bx-play'></i>
                </button>
            </div>
            <audio id="widgetAudio" preload="none">
                <source src="https://signalradio.aspergerparaasperger.org/listen/signal_radio/radio.mp3"
                    type="audio/mpeg">
            </audio>
        </div>

        <button class="widget-toggle-btn" id="widgetToggle" aria-label="Abrir Radio">
            <div class="pulse-ring"></div>
            <i class='bx bx-radio'></i>
        </button>
    </div>

    <script>
        // Floating Widget Logic
        const widget = document.getElementById('floatingWidget');
        const toggleBtn = document.getElementById('widgetToggle');
        const playBtn = document.getElementById('widgetPlayBtn');
        const widgetAudio = document.getElementById('widgetAudio');
        const widgetIcon = playBtn.querySelector('i');

        toggleBtn.addEventListener('click', () => {
            widget.classList.toggle('expanded');
        });

        playBtn.addEventListener('click', () => {
            // Optional: Stop main hero audio if it exists and is playing to avoid echo
            const heroAudio = document.querySelector('.player-container audio');
            if (heroAudio && !heroAudio.paused) {
                heroAudio.pause();
            }

            if (widgetAudio.paused) {
                widgetAudio.load();
                widgetAudio.play();
                widgetIcon.classList.remove('bx-play');
                widgetIcon.classList.add('bx-pause');
                toggleBtn.classList.add('playing');
            } else {
                widgetAudio.pause();
                widgetIcon.classList.add('bx-play');
                widgetIcon.classList.remove('bx-pause');
                toggleBtn.classList.remove('playing');
            }
        });
    </script>
    <script type="module">
        // Firebase SDK Imports (v10.7.1)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, push, onChildAdded, serverTimestamp, query, limitToLast } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";

        // Configuraci贸n proporcionada
        const firebaseConfig = {
            apiKey: "AIzaSyDcwOQt3bnGgbo9q3Bv7wuJvGaljsMp8tU",
            authDomain: "signal-radio-chat.firebaseapp.com",
            databaseURL: "https://signal-radio-chat-default-rtdb.firebaseio.com",
            projectId: "signal-radio-chat",
            storageBucket: "signal-radio-chat.firebasestorage.app",
            messagingSenderId: "192268141953",
            appId: "1:192268141953:web:1690ed96ed5ad6d9981480",
            measurementId: "G-8T2ZJHJMCZ"
        };


        // Initialize Firebase
        let app, db, analytics;
        try {
            app = initializeApp(firebaseConfig);
            analytics = getAnalytics(app);
            db = getDatabase(app);
            console.log("Firebase conectado (v10.7.1 compatible)");
            initChat();
        } catch (e) {
            console.error("Error inicializando Firebase:", e);
        }

        // Chat UI Logic
        const chatWidget = document.getElementById('chatWidget');
        const chatToggle = document.getElementById('chatToggle');
        const chatClose = document.getElementById('chatCloseBtn');
        const chatInput = document.getElementById('chatInput');
        const chatUser = document.getElementById('chatUser');
        const chatSend = document.getElementById('chatSendBtn');
        const messagesContainer = document.getElementById('chatMessages');

        // Toggle Chat
        chatToggle.addEventListener('click', () => {
            chatWidget.classList.toggle('expanded');
            if (chatWidget.classList.contains('expanded')) {
                chatToggle.classList.remove('has-new');
                scrollToBottom();
                // Focus input
                if (!localStorage.getItem('chat_username')) {
                    chatUser.focus();
                } else {
                    chatInput.focus();
                }
            }
        });

        chatClose.addEventListener('click', () => {
            chatWidget.classList.remove('expanded');
        });

        // Load Username
        if (localStorage.getItem('chat_username')) {
            chatUser.value = localStorage.getItem('chat_username');
        }

        // Save Username on change
        chatUser.addEventListener('input', () => {
            localStorage.setItem('chat_username', chatUser.value);
        });

        function scrollToBottom() {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function initChat() {
            if (!db) return;

            const messagesRef = ref(db, 'messages');
            const q = query(messagesRef, limitToLast(50));

            // Load messages
            onChildAdded(q, (snapshot) => {
                const data = snapshot.val();
                renderMessage(data.user, data.text, data.timestamp);

                // Notification enhancement
                if (!chatWidget.classList.contains('expanded')) {
                    chatToggle.classList.add('has-new');
                }
            });

            // Send Message
            function sendMessage() {
                const text = chatInput.value.trim();
                const user = chatUser.value.trim() || 'An贸nimo';

                if (text === "") return;

                if (user === 'An贸nimo') {
                    // Start shake animation or warning on user input if empty? 
                    // For now just allow it or save 'An贸nimo'
                }

                push(messagesRef, {
                    user: user,
                    text: text,
                    timestamp: serverTimestamp()
                });

                chatInput.value = "";
                scrollToBottom();
            }

            chatSend.addEventListener('click', sendMessage);

            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });
        }

        function renderMessage(user, text, timestamp) {
            const msgDiv = document.createElement('div');
            const isOwn = user === chatUser.value;

            msgDiv.className = `message ${isOwn ? 'own' : ''}`;

            // Simple sanitization
            const cleanText = text.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            const cleanUser = user.replace(/</g, "&lt;").replace(/>/g, "&gt;");

            msgDiv.innerHTML = `
                <div class="msg-header">
                    <span class="msg-author">${cleanUser}</span>
                </div>
                <div class="msg-text">${cleanText}</div>
            `;

            messagesContainer.appendChild(msgDiv);
            scrollToBottom();
        }
    </script>
</body>

</html>
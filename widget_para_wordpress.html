<!-- Signal Radio Widget Start -->
<div class="signal-radio-widget" id="signalRadioWidget">
    <div class="sr-container">
        <div class="sr-header">
            <div class="sr-logo">
                <!-- Reemplaza esta URL con la URL de tu logo en WordPress -->
                <img src="https://club.aspergerparaasperger.org/wp-content/uploads/2025/01/logo-4.png"
                    onerror="this.src='https://via.placeholder.com/50x50?text=SR'" alt="Signal Radio">
            </div>
            <div class="sr-info">
                <div class="sr-title">Signal Radio</div>
                <div class="sr-subtitle">Primera Emisora Neuro-inclusiva - ( First Neuro-Inclusive Radio)</div>
            </div>
            <div class="sr-live-indicator">
                <span class="sr-dot"></span> LIVE
            </div>
        </div>

        <div class="sr-player-controls">
            <button class="sr-play-btn" id="srPlayBtn" aria-label="Play/Pause">
                <svg class="sr-icon-play" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor" d="M8 5v14l11-7z" />
                </svg>
                <svg class="sr-icon-pause" viewBox="0 0 24 24" width="24" height="24" style="display:none;">
                    <path fill="currentColor" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />
                </svg>
            </button>

            <div class="sr-visualizer">
                <div class="sr-bar"></div>
                <div class="sr-bar"></div>
                <div class="sr-bar"></div>
                <div class="sr-bar"></div>
                <div class="sr-bar"></div>
            </div>

            <div class="sr-volume-container">
                <input type="range" class="sr-volume-slider" min="0" max="1" step="0.1" value="1" id="srVolumeBtn">
            </div>
        </div>

        <audio id="srAudioPlayer" preload="none">
            <source src="https://signalradio.aspergerparaasperger.org/listen/signal_radio/radio.mp3" type="audio/mpeg">
        </audio>
    </div>

    <style>
        .signal-radio-widget {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
            color: white;
            border-radius: 12px;
            padding: 15px;
            max-width: 100%;
            /* min-width: 300px; */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sr-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .sr-header {
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
        }

        .sr-logo img {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
            background: rgba(255, 255, 255, 0.1);
        }

        .sr-info {
            flex: 1;
            overflow: hidden;
        }

        .sr-title {
            font-weight: 700;
            font-size: 16px;
            line-height: 1.2;
            margin-bottom: 2px;
        }

        .sr-subtitle {
            font-size: 11px;
            color: #a0a0b0;
            line-height: 1.3;
            white-space: normal;
        }

        .sr-live-indicator {
            display: flex;
            align-items: center;
            font-size: 10px;
            font-weight: 800;
            color: #ff4d4d;
            background: rgba(255, 77, 77, 0.1);
            padding: 4px 8px;
            border-radius: 20px;
            height: fit-content;
        }

        .sr-dot {
            width: 6px;
            height: 6px;
            background-color: #ff4d4d;
            border-radius: 50%;
            margin-right: 4px;
            animation: srPulse 1.5s infinite;
        }

        .sr-player-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 50px;
        }

        .sr-play-btn {
            background: #4f46e5;
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .sr-play-btn:hover {
            background: #4338ca;
            transform: scale(1.05);
        }

        .sr-visualizer {
            display: flex;
            align-items: center;
            gap: 3px;
            flex: 1;
            height: 20px;
        }

        .sr-bar {
            width: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            height: 100%;
            animation: none;
        }

        .sr-volume-slider {
            width: 80px;
            cursor: pointer;
        }

        /* Animations */
        @keyframes srPulse {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }

            100% {
                opacity: 1;
            }
        }

        @keyframes srEqualizer {
            0% {
                height: 20%;
            }

            50% {
                height: 100%;
            }

            100% {
                height: 20%;
            }
        }

        .playing .sr-bar {
            animation: srEqualizer 1s infinite ease-in-out;
            background: #4f46e5;
        }

        .playing .sr-bar:nth-child(1) {
            animation-delay: 0.1s;
            animation-duration: 0.8s;
        }

        .playing .sr-bar:nth-child(2) {
            animation-delay: 0.3s;
            animation-duration: 1.0s;
        }

        .playing .sr-bar:nth-child(3) {
            animation-delay: 0.5s;
            animation-duration: 0.7s;
        }

        .playing .sr-bar:nth-child(4) {
            animation-delay: 0.2s;
            animation-duration: 0.9s;
        }

        .playing .sr-bar:nth-child(5) {
            animation-delay: 0.4s;
            animation-duration: 1.1s;
        }
    </style>

    <script>
        (function () {
            const container = document.getElementById('signalRadioWidget');
            const playBtn = document.getElementById('srPlayBtn');
            const audio = document.getElementById('srAudioPlayer');
            const visualizer = container.querySelector('.sr-visualizer');
            const playIcon = playBtn.querySelector('.sr-icon-play');
            const pauseIcon = playBtn.querySelector('.sr-icon-pause');
            const volumeSlider = document.getElementById('srVolumeBtn');

            let isPlaying = false;

            playBtn.addEventListener('click', function () {
                if (!isPlaying) {
                    audio.load(); // Reload to get latest stream
                    audio.play().then(() => {
                        isPlaying = true;
                        updateUI();
                    }).catch(e => console.error(e));
                } else {
                    audio.pause();
                    isPlaying = false;
                    updateUI();
                }
            });

            volumeSlider.addEventListener('input', function (e) {
                audio.volume = e.target.value;
            });

            function updateUI() {
                if (isPlaying) {
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                    visualizer.classList.add('playing');
                } else {
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                    visualizer.classList.remove('playing');
                }
            }
        })();
    </script>
</div>
<!-- Signal Radio Widget End -->